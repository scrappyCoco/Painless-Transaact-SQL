<!--
  ~ Copyright [2019] Coding4fun
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<idea-plugin>
    <id>ru.coding4fun.painless-transact-sql</id>
    <name>Painless Transact SQL</name>
    <vendor email="coding4fun@list.ru" url="https://github.com/scrappyCoco/Painless-Transact-SQL">Coding4fun</vendor>
    <description>A little bit inspections for MS SQL developers. For more information please checkout
        https://github.com/scrappyCoco/Painless-Transact-SQL.</description>
    <change-notes>The following intentions were added:
        1. Replace temp table to variable table and vice-versa
        2. Add comment to objects
        3. Convert SELECT to MERGE
        4. Add date style for CONVERT
        And inspections:
        1. Check for implicit size for VARCHAR in CONVERT/CAST
    </change-notes>

    <idea-version since-build="193.4099.12"/>
    <depends>com.intellij.modules.database</depends>
    <depends>com.intellij.modules.sql</depends>

    <extensions defaultExtensionNs="com.intellij">
        <completion.contributor implementationClass="ru.coding4fun.tsql.completion.PainlessCompletionContributor" language="SQL" />

        <localInspection groupPath="Painless T-SQL" suppressId="MsCursor"
                         shortName="MsCursorInspection"
                         bundle="messages.inspection" key="cursor.definition.check.name"
                         groupBundle="messages.inspection" groupKey="inspection.dml.group"
                         enabledByDefault="true" level="WARNING" language="TSQL" cleanupTool="true"
                         implementationClass="ru.coding4fun.tsql.inspection.dml.MsCursorInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsCursorInspection"
                         shortName="MsImplicitlyVarcharLengthInspection"
                         bundle="messages.inspection" key="implicitly.varchar.length.name"
                         groupBundle="messages.inspection" groupKey="inspection.function.string.group"
                         enabledByDefault="true" level="WARNING" language="TSQL" cleanupTool="true"
                         implementationClass="ru.coding4fun.tsql.inspection.function.string.MsImplicitlyVarcharLengthInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsColumnAliasDefinition"
                         shortName="MsColumnAliasDefinitionInspection"
                         bundle="messages.inspection" key="inspection.code.style.alias.as.equal.name"
                         groupBundle="messages.inspection" groupKey="inspection.code.style.group"
                         enabledByDefault="true" level="WEAK WARNING" language="TSQL" cleanupTool="true"
                         implementationClass="ru.coding4fun.tsql.inspection.codeStyle.MsColumnAliasDefinitionInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsSemicolonAtTheEnd"
                         shortName="MsSemicolonAtTheEndInspection"
                         bundle="messages.inspection" key="inspection.code.style.semicolon.at.the.end.name"
                         groupBundle="messages.inspection" groupKey="inspection.code.style.group"
                         enabledByDefault="true" level="WEAK WARNING" language="TSQL" cleanupTool="true"
                         implementationClass="ru.coding4fun.tsql.inspection.codeStyle.MsSemicolonAtTheEndInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsCaseVsChoose"
                         shortName="MsCaseVsChooseInspection"
                         bundle="messages.inspection" key="inspection.code.style.case.vs.choose.name"
                         groupBundle="messages.inspection" groupKey="inspection.code.style.group"
                         enabledByDefault="true" level="WEAK WARNING" language="TSQL" cleanupTool="true"
                         implementationClass="ru.coding4fun.tsql.inspection.codeStyle.MsCaseVsChooseInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsRedundantQualifier"
                         shortName="MsRedundantQualifierInspection"
                         bundle="messages.inspection"
                         key="redundant.qualifier.name"
                         groupBundle="messages.inspection" groupKey="inspection.code.style.group"
                         enabledByDefault="true" level="WEAK WARNING" language="TSQL"
                         implementationClass="ru.coding4fun.tsql.inspection.codeStyle.MsRedundantQualifierInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsReadonlyParameter"
                         shortName="MsReadonlyParameterInspection"
                         bundle="messages.inspection" key="inspection.ddl.readonly.missing.name"
                         groupBundle="messages.inspection" groupKey="inspection.ddl.group"
                         enabledByDefault="true" level="ERROR" language="TSQL"
                         implementationClass="ru.coding4fun.tsql.inspection.ddl.MsReadonlyParameterInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsDmlColumnList"
                         shortName="MsDmlColumnListInspection"
                         bundle="messages.inspection" key="implicit.column.list.name"
                         groupBundle="messages.inspection" groupKey="inspection.dml.group"
                         enabledByDefault="true" level="ERROR" language="TSQL"
                         implementationClass="ru.coding4fun.tsql.inspection.dml.MsDmlColumnListInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsReadonlyModification"
                         shortName="MsReadonlyModificationInspection"
                         bundle="messages.inspection" key="inspection.dml.readonly.modification.name"
                         groupBundle="messages.inspection" groupKey="inspection.dml.group"
                         enabledByDefault="true" level="ERROR" language="TSQL"
                         implementationClass="ru.coding4fun.tsql.inspection.dml.MsReadonlyModificationInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsRedundantDistinctInSetOperators"
                         shortName="MsRedundantDistinctInSetOperatorsInspection"
                         bundle="messages.inspection"
                         key="inspection.dml.redundant.distinct.keyword.in.set.operators.name"
                         groupBundle="messages.inspection" groupKey="inspection.dml.group"
                         enabledByDefault="true" level="WEAK WARNING" language="TSQL"
                         implementationClass="ru.coding4fun.tsql.inspection.dml.MsRedundantDistinctInSetOperatorsInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsSemicolonCte"
                         shortName="MsSemicolonCteInspection"
                         bundle="messages.inspection" key="inspection.dml.semicolon.cte.name"
                         groupBundle="messages.inspection" groupKey="inspection.dml.group"
                         enabledByDefault="true" level="WARNING" language="TSQL"
                         implementationClass="ru.coding4fun.tsql.inspection.dml.MsSemicolonCteInspection"/>
        <!--        <localInspection groupPath="Painless T-SQL" suppressId="MsOrderByClIx"-->
        <!--                         shortName="MsOrderByClIxInspection"-->
        <!--                         bundle="messages.inspection" key="dml.ms.order.by.cl.ix.name"-->
        <!--                         groupBundle="messages.inspection" groupKey="inspection.dml.group"-->
        <!--                         enabledByDefault="true" level="WARNING" language="TSQL"-->
        <!--                         implementationClass="ru.coding4fun.tsql.inspection.dml.MsOrderByClIxInspection"/>-->
        <!--        <localInspection groupPath="Painless T-SQL" suppressId="MsRenamed"-->
        <!--                         shortName="MsRenamedInspection"-->
        <!--                         bundle="messages.inspection" key="inspection.ddl.renamed.name"-->
        <!--                         groupBundle="messages.inspection" groupKey="inspection.ddl.group"-->
        <!--                         enabledByDefault="true" level="WARNING" language="TSQL"-->
        <!--                         implementationClass="ru.coding4fun.tsql.inspection.ddl.MsRenamedInspection"/>-->
        <localInspection groupPath="Painless T-SQL" suppressId="MsSubstring"
                         shortName="MsSubstringInspection"
                         bundle="messages.inspection" key="inspection.function.substring.name"
                         groupBundle="messages.inspection" groupKey="inspection.function.string.group"
                         enabledByDefault="true" level="WEAK WARNING" language="TSQL"
                         implementationClass="ru.coding4fun.tsql.inspection.function.string.MsSubstringInspection"/>
        <localInspection groupPath="Painless T-SQL" suppressId="MsTrim"
                         shortName="MsTrimInspection"
                         bundle="messages.inspection" key="inspection.function.trim.name"
                         groupBundle="messages.inspection" groupKey="inspection.function.string.group"
                         enabledByDefault="true" level="WEAK WARNING" language="TSQL"
                         implementationClass="ru.coding4fun.tsql.inspection.function.string.MsTrimInspection"/>


        <intentionAction>
            <className>ru.coding4fun.tsql.intention.MsAddDateStyleInConvertIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.MsFlipBinaryExpressionIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.function.MsReverseIifIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.MsReplaceValuesToSelectIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.function.string.MsLeftToSubstringIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.function.MsCastToConvertIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.function.MsConvertToCastIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.MsMoveLimitToOrderByIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.MsAddCommentIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.MsConvertToMergeIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.MsReplaceVarTableToTempIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.MsReplaceTempTableToVarIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.function.MsIsNullToCaseIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
        <intentionAction>
            <className>ru.coding4fun.tsql.intention.function.MsNullIfToCaseIntention</className>
            <bundleName>messages.intention</bundleName>
            <categoryKey>intention.group.name</categoryKey>
        </intentionAction>
    </extensions>
</idea-plugin>